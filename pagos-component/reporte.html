<!DOCTYPE html>
<html ng-app="pagos">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="./pagos-component.css">
     <link rel="icon" href="https://web.escolaresmx.com/theme/img/icon.png">
    
    <title>Reporte</title>
    
              <!--Angular-->
          <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
              <!--Bootrap-->
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

        <!--Font awesome-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha512-3M00D/rn8n+2ZVXBO9Hib0GKNpkm8MSUU/e2VNthDyBYxKWG+BftNYYcuEjXlyrSO637tidzMBXfE7sQm0INUg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://kit.fontawesome.com/d2cb8774a8.js" crossorigin="anonymous"></script>
        <!--Component pagos-->
        <script src="../pagos-component/pagos-component.js"></script>

        <style>
          body{
            background-color: #f2f2f2;
            overflow-x: hidden;
          }

        </style>
</head>
<body ng-controller="pagosController">
     <div>
          <div class="titles_2">
          <h1>Reporte</h1>
          </div>
     </div>
     <div class="container-col">
          <div class="row">
               <div class="col-lg-4">
                    <div class="container-opciones">
                         <!-- Button trigger modal -->
                         <!-- <div class="poits-i">
                              <i class="fa-solid fa-ellipsis" id="points"></i>
                         </div> -->
                         <div id="btn-opciones" classs="my-10">
                              <div class="meu-i">
                                   <i class="fa-solid fa-bars" id="menu"></i> 
                              </div>
                              
                              <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" id="btn-opciones-2">
                                   Opciones 
                              </button>
                              
                              
                         </div>
                         <!-- Modal -->
                         <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog modal-lg">
                              <div class="modal-content">
                              <div class="modal-header opciones_title" >
                                   <h5 class="modal-title " id="exampleModalLabel">Opciones</h5>
                                   <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                   <div class="row">
                                        <div class="col col-1">
                                             <i class="fa-solid fa-print" id="icon-printer"></i>
                                        </div>
                                        <div class="col col-8">
                                             <button type="button" class="btn btn-primary" id="btn-printer">
                                                  <h5 class="text-left h-conection">Impresora</h5>
                                             <p class="text-left p-conection">Conecta una impresora de tickets</p>
                                        </div>

                                        <div class="col col-1 arrow-right-scan">
                                             <i class="fa -solid fa-chevron-right"></i>
                                        </div>
                                        <hr>
                                   </div>
                                   </button>
                              </div>
                              
                              </div>
                              </div>
               
                         </div>
                    </div> 
                    
                   <div class="container_alumnos">
                    <div class="input-group rounded">
                         <div class="input-group mb-3">
                              <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1"><i class="fa -solid fa fa-search"></i></span>
                              </div>
                              <input type="text" class="serachinput" ng-model="search_students" placeholder="Buscar alumnos" aria-label="Username" aria-describedby="basic-addon1" class="form-control rounded">
                         </div>
                       </div>
                         <div class="container_name">
                              <p>14 pago(s)</p>
                         </div>
                        
                         <div class="containeralumnos">
                                   <div class="row containerstudents  display-flex" ng-repeat="student in students | filter:search_students" >
                                        <div class="col col-sm-2 studentsphoto" >
                                             <img src="{{student.photo}}" style="margin-top:30px; margin-left:20px;">
                                        </div>
                                                  
                                        <div class="col col-8 students-info align-items-center" >
                                             <button type="button" class="btn-student" ng-click="ChangeView(student.id-1)">
                                             
                                                  <p> {{student.name}} {{student.lastname}}
                                                   Monto: {{student.monto}}
                                                    Adeudo: {{student.adeudo}}
                                                   pagos agrupados: {{student.pagos_agrupados}}</p>
                                                  
                                             </button>
                                             
                                        </div>
                                        <div class="col col-sm-2  icon-right2">
                                             <i class="fa -solid fa-chevron-right"></i>
                                        </div>
                                        <hr>
                                   </div>
                         </div>
                   </div>
               </div>
               
                    <div class="col-lg-4">
                         <div class="container_titles">
                              <h2 class="h3">Pagos</h2>
                         </div>

                         <div class="info" ng-repeat="student in students"  ng-if="student.view!='invisible'">
                              <div ng-repeat="pago in pagos | filter: {id_student:student.id}" >
                                   <div class="containerpagos" >
                                        <div class="card ">
                                             <div class="card-body">
                                               <h5 class="card-title">{{pago.concepto}}</h5>
                                               <div class="row">
                                                  <div class="col-2 icon">
                                                       <i class="fa -solid fa-print"></i>
                                                  </div>
                                                  <div class="col">
                                                       <p class="card-text">{{pago.date}}</p>
                                                       <p class="card-text">{{pago.number}}</p>
                                                       <p class="card-text">{{pago.cantidad}} - {{pago.adeudo}}</p>
                                                  </div>
                                                  <div class="col-2 icon icon-eliminar">
                                                       <i class="fa -thin fa-circle-xmark"></i>
                                                  </div>
                                               </div>
                                               <div class="containerdelete">
                                                  <a data-bs-toggle="modal" href="#AbonoModal" role="button" class="btn btn-success btn-abono">Abono</a>
                                                </div>
                                             </div>
                                           </div>
                                           
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div class="col-lg-4">
                         <div class="container-search">
                              <div class="col-lg-2">
                                   <div class="fecha-desde-container">
                                        <h3>Fechas desde</h3>   
                                   </div>
                                   <div class="input-desde">
                                         <input type="date" class="fechas-desde">
                                   </div>
                              </div>
                              <div class="col-lg-2">
                                   <div class="fecha-hasta-container">                              
                                        <h3>Fechas hasta</h3>
                                        <input type="date" class="fechas-hasta">
                                   </div>
                              </div>
                              <hr>
                              <div class="buttons-report">
                                   <button type="button" class="btn btn-primary" id="export-buttn-search"><i class="fa-solid fa-magnifying-glass" ></i></button>
                                   <button type="button" class="btn btn-primary" id="export-buttn-search">Exportar <i class="fa -regular fa-arrow-down"></i></button>
                              </div>
                         </div>

                         <div class="sendmore">
                              <!-- Button trigger modal -->
                              <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" id="plus-btn">
                                   <i class="fa-solid fa-plus"></i>
                              </button>
                              
                              <!-- Modal -->
                              <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                   <div class="modal-dialog modal-lg modal-dialog-scrollable">
                                   <div class="modal-content">
                                   <div class="modal-header opciones_title">
                                        <h5 class="modal-title" id="staticBackdropLabel">Alumno</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                   </div>
                                   <div class="modal-body">
                                        <div class="container-plus">
                                             <div class="icon">
                                                  <i class="fa fa-thin fa-circle-info"></i>
                                             </div>

                                             <div class="textos">
                                                  <h5>Busca al alumno al que se registrara el pago</h5>
                                                  <p>Escribe el nombre del alumno en el campo de texto correspondiente</p>
                                             </div>
                                             <hr>
                                             <div class="input-group mb-3">
                                                  <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1"><i class="fa -solid fa fa-search"></i></span>
                                                  </div>
                                                  <input type="text" class="form-control" ng-init="search_students_2 = ''" ng-model="search_students_2" placeholder="Buscar alumnos" aria-label="Username" aria-describedby="basic-addon1" class="form-control rounded">
                                             </div>
                                             <hr>
                                             <div class="containeralumnos" ng-if="search_students_2 != ''" style="width: 100%;">
                                                 
                                                       <div class="row containerstudents  display-flex" ng-repeat="student in students | filter:search_students_2" >
                                                            <div class="col col-sm-2 studentsphoto" >
                                                                 <img src="{{student.photo}}" style="margin-top:30px; margin-left:20px;">
                                                            </div>
                                                                      
                                                            <div class="col col-8 students-info align-items-center" >
                                                                 <button type="button" class="btn-student"  data-bs-toggle="modal" data-bs-target="#userplus">
                                                                 
                                                                      <p> {{student.name}} {{student.lastname}}</p>
                                                                      
                                                                 </button>
                                                                 
                                                            </div>
                                                            <div class="col col-sm-2  icon-right2">
                                                                 <i class="fa -solid fa-chevron-right"></i>
                                                            </div>
                                                            <hr>
                                                       </div>
                                                 
                                             </div>
                                        </div>

                                       
                                   </div>
                                   <div class="modal-footer">
                                        
                                   </div>
                                   </div>
                                   </div>
                              </div>
   
                         </div>
                        
                    </div>
          </div>

          <!--Modal search button-->
          <!-- Modal -->
          <div class="modal fade" id="userplus" tabindex="-1" aria-labelledby="userplusLabel" aria-hidden="true">
               <div class="modal-dialog modal-dialog-scrollable modal-lg">
               <div class="modal-content">
               <div class="modal-header">
                    <h1 class="modal-title fs-5" id="userplusLabel">Pago</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                    <div class="namestudent">
                         {{student.name}}
                    </div>
                    <div class="containerdatos">
                         <div class="date">
                              <p>Fecha</p>
                              <input type="date" class="inputstudent">
                         </div>
                         <hr>
                         <div class="concept">
                              <div class="row">
                                   <div class="col">
                                        <p>Concepto</p>
                                   </div>
                                   <div class="col">
                                        <select ng-options="option.name for option in concept.options track by option.id" ng-model="concept.A_options" class="combobox">
                                             <!-- Opciones del Combo -->
                                        </select>
                                   </div>
                              </div>
                         </div>
                         <hr>
                         <div class="containerdatosmodal">
                              <div class="row">
                                   <div class="col">
                                        <p>Monto a pagar</p>
                                        <input type="text" placeholder="Escribe el monto del concepto" class="inputstudent">
                                   </div>
                                   <div class="col">
                                        <p>Recibido</p>
                                        <input type="text" placeholder="Cantidad abonada(Si se deja vacio se considera el pago completo)" class="inputstudent">
                                   </div>
                              </div>
                         </div>
                         <hr>
                         <br>
                         <div class="optional">
                              <p>Opcional</p>
                         </div>
                         <div class="folio">
                              <p>Folio</p>
                              <input type="text" placeholder="Número de Folio" class="inputstudent">
                         </div>
                         <hr>
                         <div class="comentario">
                              <p>Comentario</p>
                              <input type="text" placeholder="Escribe un comentario de este pago" class="inputstudent">
                         </div>
                    </div>
               </div>
               <div class="modal-footer">
                    <button type="button" class="btn btn-success" style="width: 100%;">Guardar</button>
               </div>
               </div>
               </div>
          </div>

          <!--Modal abono -->
          <!-- Modal -->
          <div class="modal fade" id="AbonoModal" tabindex="-1" aria-labelledby="AbonoModalLabel" aria-hidden="true">
               <div class="modal-dialog modal-lg modal-dialog-scrollable">
               <div class="modal-content">
               <div class="modal-header">
                    <h1 class="modal-title fs-5" id="AbonoModalLabel">Abonos</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                    <div class="card">
                         <h5 class="card-header">Abonar</h5>
                         <div class="card-body">
                              <div class="pagemethod">
                                   <div class="row">
                                        <div class="col">
                                             <p>Selecciona el metodo de pago</p>
                                        </div>
                                        <div class="col">
                                             <select ng-options="option.name for option in methodspage.options track by option.id" ng-model="methodspage.A_options" class="combobox">
                                                  <!-- Opciones del Combo -->
                                             </select>
                                        </div>
                                   </div>
                              </div>
                              <hr>
                              <div class="monto">
                                   <div class="row">
                                        <div class="col-5">
                                             <p>Monto</p>
                                        </div>
                                        <div class="col-3 inputstudent">
                                             <input type="text" class="inputsave" placeholder="$">
                                        </div>
                                        <div class="col-3 ms-auto p-2">
                                        <button type="button" class=" btn-save">Secondary</button>
                                        </div>
                                   </div>
                              </div>
                         </div>
                       </div>
               </div>
              
               </div>
               </div>
          </div>
   
     </div>

     
   
</body>
</html>